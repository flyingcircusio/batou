Environments (TBD)
==================

Component/host assignment
-------------------------

General parameters
------------------

General environment parameters are set in the ``[environment]`` config section.
Example::

	[environment]
	service_user = website
	host_domain = gocept.net
	platform = gocept
	branch = production

service_user
	The deployment is run as this user on remote machines. If this is not
	the same as the user connecting via ssh, a `sudo` to the service user
	is performed.

host_domain
	All hosts in the ``[hosts]`` section are postfixed with this domain. This
	is handy do make the host/component assignment less verbose

update_method
	`bundle|pull`, sets how the remote deployment repository is updated. `pull`,
	the default, uses `hg clone` and/or `hg pull` on the remote site. The 
	`bundle` method will copy the necessary changes via the batou ssh link.

branch
	For remote deployments, use this and only this branch. batou will
	complain if the local branch does not match the set branch in the
	environment.

platform
	Set the platform for this environment. See :ref:`platforms`.

timeout
	Set the ssh connection timeout in seconds.

target_directory
        Absolute path of the directory on remote machines where the remote
        deployment repository is stored. Supports tilde expansion. Default:
        ``~/deployment``.


vfs mapping (reference)
-----------------------

top-level attribute overrides
-----------------------------
